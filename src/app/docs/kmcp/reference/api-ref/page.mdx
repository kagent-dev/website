---
title: "API docs"
pageOrder: 5
description: "kmcp API reference documentation"
---

export const metadata = {
  title: "API docs",
  description: "kmcp API reference documentation",
  author: "kagent.dev"
};

# API Reference

## Packages
- [kagent.dev/v1alpha1](#kagentdevv1alpha1)


## kagent.dev/v1alpha1

Package v1alpha1 contains API Schema definitions for the  v1alpha1 API group.

### Resource Types
- [MCPServer](#mcpserver)



#### HTTPTransport



HTTPTransport defines the configuration for a Streamable HTTP transport.



_Appears in:_
- [MCPServerSpec](#mcpserverspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `targetPort` _integer_ | target port is the HTTP port that serves the MCP server.over HTTP |  |  |
| `path` _string_ | the target path where MCP is served |  |  |


#### InitContainerConfig



InitContainerConfig defines the configuration for the init container.



_Appears in:_
- [MCPServerDeployment](#mcpserverdeployment)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `image` _string_ | Image defines the full image reference for the init container.<br />If specified, this overrides the default transport adapter image.<br />Example: "myregistry.com/agentgateway/agentgateway:0.9.0-musl" |  |  |
| `imagePullPolicy` _[PullPolicy](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.31/#pullpolicy-v1-core)_ | ImagePullPolicy defines the pull policy for the init container image. |  | Enum: [Always Never IfNotPresent] <br /> |


#### MCPServer



MCPServer is the Schema for the mcpservers API.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` _string_ | `kagent.dev/v1alpha1` | | |
| `kind` _string_ | `MCPServer` | | |
| `kind` _string_ | Kind is a string value representing the REST resource this object represents.<br />Servers may infer this from the endpoint the client submits requests to.<br />Cannot be updated.<br />In CamelCase.<br />More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds |  |  |
| `apiVersion` _string_ | APIVersion defines the versioned schema of this representation of an object.<br />Servers should convert recognized schemas to the latest internal value, and<br />may reject unrecognized values.<br />More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources |  |  |
| `metadata` _[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.31/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` _[MCPServerSpec](#mcpserverspec)_ |  |  |  |
| `status` _[MCPServerStatus](#mcpserverstatus)_ |  |  |  |






#### MCPServerDeployment



MCPServerDeployment



_Appears in:_
- [MCPServerSpec](#mcpserverspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `image` _string_ | Image defines the container image to to deploy the MCP server. |  |  |
| `imagePullPolicy` _[PullPolicy](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.31/#pullpolicy-v1-core)_ | ImagePullPolicy defines the pull policy for the container image. |  | Enum: [Always Never IfNotPresent] <br /> |
| `port` _integer_ | Port defines the port on which the MCP server will listen. | 3000 |  |
| `cmd` _string_ | Cmd defines the command to run in the container to start the mcp server. |  |  |
| `args` _string array_ | Args defines the arguments to pass to the command. |  |  |
| `env` _object (keys:string, values:string)_ | Env defines the environment variables to set in the container. |  |  |
| `secretRefs` _[LocalObjectReference](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.31/#localobjectreference-v1-core) array_ | SecretRefs defines the list of Kubernetes secrets to reference.<br />These secrets will be mounted as volumes to the MCP server container. |  |  |
| `configMapRefs` _[LocalObjectReference](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.31/#localobjectreference-v1-core) array_ | ConfigMapRefs defines the list of Kubernetes configmaps to reference.<br />These configmaps will be mounted as volumes to the MCP server container. |  |  |
| `volumeMounts` _[VolumeMount](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.31/#volumemount-v1-core) array_ | VolumeMounts defines the list of volume mounts for the MCP server container.<br />This allows for more flexible volume mounting configurations. |  |  |
| `volumes` _[Volume](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.31/#volume-v1-core) array_ | Volumes defines the list of volumes that can be mounted by containers.<br />This allows for custom volume configurations beyond just secrets and configmaps. |  |  |
| `initContainer` _[InitContainerConfig](#initcontainerconfig)_ | InitContainer defines the configuration for the init container that copies<br />the transport adapter binary. This is used for stdio transport type. |  |  |
| `serviceAccount` _[ServiceAccountConfig](#serviceaccountconfig)_ | ServiceAccount defines the configuration for the ServiceAccount. |  |  |
| `sidecars` _[Container](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.31/#container-v1-core) array_ | Sidecars defines additional containers to run alongside the MCP server container.<br />These containers will share the same pod and can share volumes with the main container. |  |  |


#### MCPServerSpec



MCPServerSpec defines the desired state of MCPServer.



_Appears in:_
- [MCPServer](#mcpserver)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `deployment` _[MCPServerDeployment](#mcpserverdeployment)_ | Configuration to Deploy the MCP Server using a docker container |  |  |
| `transportType` _[TransportType](#transporttype)_ | TransportType defines the type of mcp server being run |  | Enum: [stdio http] <br /> |
| `stdioTransport` _[StdioTransport](#stdiotransport)_ | StdioTransport defines the configuration for a standard input/output transport. |  |  |
| `httpTransport` _[HTTPTransport](#httptransport)_ | HTTPTransport defines the configuration for a Streamable HTTP transport. |  |  |


#### MCPServerStatus



MCPServerStatus defines the observed state of MCPServer.



_Appears in:_
- [MCPServer](#mcpserver)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` _[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.31/#condition-v1-meta) array_ | Conditions describe the current conditions of the MCPServer.<br />Implementations should prefer to express MCPServer conditions<br />using the `MCPServerConditionType` and `MCPServerConditionReason`<br />constants so that operators and tools can converge on a common<br />vocabulary to describe MCPServer state.<br /><br />Known condition types are:<br /><br />* "Accepted"<br />* "ResolvedRefs"<br />* "Programmed"<br />* "Ready" |  | MaxItems: 8 <br /> |
| `observedGeneration` _integer_ | ObservedGeneration is the most recent generation observed for this MCPServer.<br />It corresponds to the MCPServer's generation, which is updated on mutation by the API Server. |  |  |


#### ServiceAccountConfig



ServiceAccountConfig defines the configuration for the ServiceAccount.



_Appears in:_
- [MCPServerDeployment](#mcpserverdeployment)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `annotations` _object (keys:string, values:string)_ | Annotations to add to the ServiceAccount.<br />This is useful for configuring AWS IRSA (IAM Roles for Service Accounts)<br />or other cloud provider integrations.<br />Example: \{"eks.amazonaws.com/role-arn": "arn:aws:iam::123456789012:role/my-role"\} |  |  |
| `labels` _object (keys:string, values:string)_ | Labels to add to the ServiceAccount. |  |  |


#### StdioTransport



StdioTransport defines the configuration for a standard input/output transport.



_Appears in:_
- [MCPServerSpec](#mcpserverspec)



#### TransportType

_Underlying type:_ _string_

MCPServerTransportType defines the type of transport for the MCP server.



_Appears in:_
- [MCPServerSpec](#mcpserverspec)

| Field | Description |
| --- | --- |
| `stdio` | TransportTypeStdio indicates that the MCP server uses standard input/output for communication.<br /> |
| `http` | TransportTypeHTTP indicates that the MCP server uses Streamable HTTP for communication.<br /> |


